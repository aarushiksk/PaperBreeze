{% extends 'base.html'%}

{% block head %}
<meta charset="UTF-8">
<title>Paper Breeze</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css'>
<link rel="stylesheet" href="./static/style.css">
{% endblock %}

{% block body %}
<div class="center">
    <div class="chat">
        <div class="contact bar">
            <div class="pic stark"></div>
            <div class="name">
                Paper Breeze
            </div>
        </div>
        <div class="messages" id="chat">
            <div class="time">
                Status: Active
            </div>

            <!-- Display user input and assistant response -->
            {% if query and response %}
            <div class="message-container">
                <div class="message stark right-message">
                    <strong>User:</strong> {{ query }}
                </div>
                <div class="message parker left-message">
                    <strong>Assistant:</strong> {{ response }}
                </div>
            </div>
            {% else %}
            <div class="message stark">
                Enter what do you want to ask?
            </div>
            {% endif %}
        </div>

        <!-- Form for user input -->
        <form action="/answer" class="form" method="POST">
            <div class="input">
                <input placeholder="Type your message here!" type="text" id="ask" name="query" required>
                <button type="submit" class="fas fa-search"></button>
            </div>
        </form>
    </div>
</div>
</div>


<form action="/end" method="POST" style="
    position: fixed;
    bottom: 80px; 
    right: 20px;
    background-color: #f2f2f2;
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 200px;
">
    <input placeholder="Type your message here!" type="text" id="ask" name="end">
    <button type="submit" style="
        background-color: #ff4d4d;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
    ">Type 'End Chat' to end the chat</button>
</form>

<!-- partial -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
<script src="./static/script.js"></script>

{% endblock %}